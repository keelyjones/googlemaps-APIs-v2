{"filter":false,"title":"maps.js","tooltip":"/assets/js/maps.js","undoManager":{"mark":83,"position":83,"stack":[[{"start":{"row":0,"column":0},"end":{"row":239,"column":1},"action":"insert","lines":["var map, places, infoWindow;","var markers = [];","var autocomplete;","var image;","var MARKER_PATH = 'https://developers.google.com/maps/documentation/javascript/images/marker_green';","var hostnameRegexp = new RegExp('^https?://.+?/');","","function reset() {","  location.reload();","}","","function initMap() {","  map = new google.maps.Map(document.getElementById('map'), {","    zoom: 8,","    center: { lat: 53.3498, lng: -6.2603 },","    mapTypeControl: false,","    panControl: false,","    zoomControl: true,","    streetViewControl: false,","    fullscreenControl: true","  });","","  infoWindow = new google.maps.InfoWindow({","    content: document.getElementById('info-content')","  });","","  // Cities","  autocomplete = new google.maps.places.Autocomplete(","    /** @type {!HTMLInputElement} */","    (","      document.getElementById('autocomplete')), {","      types: ['(cities)'],","    });","  places = new google.maps.places.PlacesService(map);","","  autocomplete.addListener('place_changed', onPlaceChanged);","","}","","// Zoom in for City selected","function onPlaceChanged() {","  var place = autocomplete.getPlace();","  if (place.geometry) {","    map.panTo(place.geometry.location);","    map.setZoom(15);","    search();","  }","}","","// Search for locations in selected city","function search() {","  var locations = document.getElementById(\"locations\").value;","","  var search = {","    bounds: map.getBounds(),","    types: [locations]","  };","","  places.nearbySearch(search, function(results, status) {","    if (status === google.maps.places.PlacesServiceStatus.OK) {","      clearResults();","      clearMarkers();","","      for (var i = 0; i < results.length; i++) {","","        // Use marker animation to drop the icons incrementally on the map.","        markers[i] = new google.maps.Marker({","          position: results[i].geometry.location,","          animation: google.maps.Animation.DROP,","        });","        // Info window","        markers[i].placeResult = results[i];","        google.maps.event.addListener(markers[i], 'click', showInfoWindow);","        setTimeout(dropMarker(i), i * 10);","        addResult(results[i], i);","      }","    }","  });","}","","function clearMarkers() {","  for (var i = 0; i < markers.length; i++) {","    if (markers[i]) {","      markers[i].setMap(null);","    }","  }","  markers = [];","}","","","function dropMarker(i) {","  return function() {","    markers[i].setMap(map);","  };","}","","function addResult(result, i) {","  var results = document.getElementById('results');","  var markerLetter = String.fromCharCode('A'.charCodeAt(0) + (i % 26));","  var markerIcon = MARKER_PATH + markerLetter;","","  var tr = document.createElement('tr');","  tr.style.backgroundColor = (i % 2 === 0 ? '#F0F0F0' : '#FFFFFF');","  tr.onclick = function() {","    google.maps.event.trigger(markers[i], 'click');","  };","","  var iconTd = document.createElement('td');","  var nameTd = document.createElement('td');","  var icon = document.createElement('img');","  icon.setAttribute('class', 'placeIcon');","  icon.setAttribute('className', 'placeIcon');","  var name = document.createTextNode(result.name);","  iconTd.appendChild(icon);","  nameTd.appendChild(name);","  tr.appendChild(iconTd);","  tr.appendChild(nameTd);","  results.appendChild(tr);","}","","function clearResults() {","  var results = document.getElementById('results');","  while (results.childNodes[0]) {","    results.removeChild(results.childNodes[0]);","  }","}","","// Get the place details for current selection in an info window.","function showInfoWindow() {","  var marker = this;","  places.getDetails({ placeId: marker.placeResult.place_id },","    function(place, status) {","      if (status !== google.maps.places.PlacesServiceStatus.OK) {","        return;","      }","      infoWindow.open(map, marker);","      buildIWContent(place);","    });","}","","// Load the place information into the HTML elements used by the info window.","function buildIWContent(place) {","  document.getElementById('iw-icon').innerHTML = '<img class=\"hotelIcon\" ' +","    'src=\"' + place.icon + '\"/>';","  document.getElementById('iw-url').innerHTML = '<b><a href=\"' + place.url +","    '\" target=\"_blank\" >' + place.name + '</a></b>';","  document.getElementById('iw-address').textContent = place.vicinity;","","  if (place.formatted_phone_number) {","    document.getElementById('iw-phone-row').style.display = '';","    document.getElementById('iw-phone').textContent =","      place.formatted_phone_number;","  }","  else {","    document.getElementById('iw-phone-row').style.display = 'none';","  }","","  // opening hours - no result if undefined","","  if (place.opening_hours) {","    document.getElementById('iw-hours-mon').textContent = place.opening_hours.weekday_text[0];","  } else {","    document.getElementById('iw-hours-mon').textContent = '';","  }","","  if (place.opening_hours) {","    document.getElementById('iw-hours-tue').textContent = place.opening_hours.weekday_text[1];","  } else {","    document.getElementById('iw-hours-tue').textContent = '';","  }","    ","    ","  if (place.opening_hours) {","    document.getElementById('iw-hours-wed').textContent = place.opening_hours.weekday_text[2];","  } else {","    document.getElementById('iw-hours-wed').textContent = '';","  }","  ","  if (place.opening_hours) {","    document.getElementById('iw-hours-thr').textContent = place.opening_hours.weekday_text[3];","  } else {","    document.getElementById('iw-hours-thr').textContent = '';","  }","    ","  ","  if (place.opening_hours) {","    document.getElementById('iw-hours-fr').textContent = place.opening_hours.weekday_text[4];","  } else {","    document.getElementById('iw-hours-fr').textContent = '';","  }","  ","  if (place.opening_hours) {","    document.getElementById('iw-hours-sat').textContent = place.opening_hours.weekday_text[5];","  } else {","    document.getElementById('iw-hours-sat').textContent = '';","  }","  ","  if (place.opening_hours) {","    document.getElementById('iw-hours-sun').textContent = place.opening_hours.weekday_text[6];","  } else {","    document.getElementById('iw-hours-sun').textContent = '';","  }","","","  // Assign a five-star rating , using a black star ('&#10029;')","  // to indicate the rating the location has earned, and a white star ('&#10025;')","  // for the rating points not achieved.","  if (place.rating) {","    var ratingHtml = '';","    for (var i = 0; i < 5; i++) {","      if (place.rating < (i + 0.5)) {","        ratingHtml += '&#10025;';","      }","      else {","        ratingHtml += '&#10029;';","      }","      document.getElementById('iw-rating-row').style.display = '';","      document.getElementById('iw-rating').innerHTML = ratingHtml;","    }","  }","  else {","    document.getElementById('iw-rating-row').style.display = 'none';","  }","","  // The regexp isolates the first part of the URL (domain plus subdomain)","  // to give a short URL for displaying in the info window.","  if (place.website) {","    var fullUrl = place.website;","    var website = hostnameRegexp.exec(place.website);","    if (website === null) {","      website = 'http://' + place.website + '/';","      fullUrl = website;","    }","    document.getElementById('iw-website-row').style.display = '';","    document.getElementById('iw-website').textContent = website;","  }","  else {","    document.getElementById('iw-website-row').style.display = 'none';","  }","}"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":239,"column":1},"action":"remove","lines":["var map, places, infoWindow;","var markers = [];","var autocomplete;","var image;","var MARKER_PATH = 'https://developers.google.com/maps/documentation/javascript/images/marker_green';","var hostnameRegexp = new RegExp('^https?://.+?/');","","function reset() {","  location.reload();","}","","function initMap() {","  map = new google.maps.Map(document.getElementById('map'), {","    zoom: 8,","    center: { lat: 53.3498, lng: -6.2603 },","    mapTypeControl: false,","    panControl: false,","    zoomControl: true,","    streetViewControl: false,","    fullscreenControl: true","  });","","  infoWindow = new google.maps.InfoWindow({","    content: document.getElementById('info-content')","  });","","  // Cities","  autocomplete = new google.maps.places.Autocomplete(","    /** @type {!HTMLInputElement} */","    (","      document.getElementById('autocomplete')), {","      types: ['(cities)'],","    });","  places = new google.maps.places.PlacesService(map);","","  autocomplete.addListener('place_changed', onPlaceChanged);","","}","","// Zoom in for City selected","function onPlaceChanged() {","  var place = autocomplete.getPlace();","  if (place.geometry) {","    map.panTo(place.geometry.location);","    map.setZoom(15);","    search();","  }","}","","// Search for locations in selected city","function search() {","  var locations = document.getElementById(\"locations\").value;","","  var search = {","    bounds: map.getBounds(),","    types: [locations]","  };","","  places.nearbySearch(search, function(results, status) {","    if (status === google.maps.places.PlacesServiceStatus.OK) {","      clearResults();","      clearMarkers();","","      for (var i = 0; i < results.length; i++) {","","        // Use marker animation to drop the icons incrementally on the map.","        markers[i] = new google.maps.Marker({","          position: results[i].geometry.location,","          animation: google.maps.Animation.DROP,","        });","        // Info window","        markers[i].placeResult = results[i];","        google.maps.event.addListener(markers[i], 'click', showInfoWindow);","        setTimeout(dropMarker(i), i * 10);","        addResult(results[i], i);","      }","    }","  });","}","","function clearMarkers() {","  for (var i = 0; i < markers.length; i++) {","    if (markers[i]) {","      markers[i].setMap(null);","    }","  }","  markers = [];","}","","","function dropMarker(i) {","  return function() {","    markers[i].setMap(map);","  };","}","","function addResult(result, i) {","  var results = document.getElementById('results');","  var markerLetter = String.fromCharCode('A'.charCodeAt(0) + (i % 26));","  var markerIcon = MARKER_PATH + markerLetter;","","  var tr = document.createElement('tr');","  tr.style.backgroundColor = (i % 2 === 0 ? '#F0F0F0' : '#FFFFFF');","  tr.onclick = function() {","    google.maps.event.trigger(markers[i], 'click');","  };","","  var iconTd = document.createElement('td');","  var nameTd = document.createElement('td');","  var icon = document.createElement('img');","  icon.setAttribute('class', 'placeIcon');","  icon.setAttribute('className', 'placeIcon');","  var name = document.createTextNode(result.name);","  iconTd.appendChild(icon);","  nameTd.appendChild(name);","  tr.appendChild(iconTd);","  tr.appendChild(nameTd);","  results.appendChild(tr);","}","","function clearResults() {","  var results = document.getElementById('results');","  while (results.childNodes[0]) {","    results.removeChild(results.childNodes[0]);","  }","}","","// Get the place details for current selection in an info window.","function showInfoWindow() {","  var marker = this;","  places.getDetails({ placeId: marker.placeResult.place_id },","    function(place, status) {","      if (status !== google.maps.places.PlacesServiceStatus.OK) {","        return;","      }","      infoWindow.open(map, marker);","      buildIWContent(place);","    });","}","","// Load the place information into the HTML elements used by the info window.","function buildIWContent(place) {","  document.getElementById('iw-icon').innerHTML = '<img class=\"hotelIcon\" ' +","    'src=\"' + place.icon + '\"/>';","  document.getElementById('iw-url').innerHTML = '<b><a href=\"' + place.url +","    '\" target=\"_blank\" >' + place.name + '</a></b>';","  document.getElementById('iw-address').textContent = place.vicinity;","","  if (place.formatted_phone_number) {","    document.getElementById('iw-phone-row').style.display = '';","    document.getElementById('iw-phone').textContent =","      place.formatted_phone_number;","  }","  else {","    document.getElementById('iw-phone-row').style.display = 'none';","  }","","  // opening hours - no result if undefined","","  if (place.opening_hours) {","    document.getElementById('iw-hours-mon').textContent = place.opening_hours.weekday_text[0];","  } else {","    document.getElementById('iw-hours-mon').textContent = '';","  }","","  if (place.opening_hours) {","    document.getElementById('iw-hours-tue').textContent = place.opening_hours.weekday_text[1];","  } else {","    document.getElementById('iw-hours-tue').textContent = '';","  }","    ","    ","  if (place.opening_hours) {","    document.getElementById('iw-hours-wed').textContent = place.opening_hours.weekday_text[2];","  } else {","    document.getElementById('iw-hours-wed').textContent = '';","  }","  ","  if (place.opening_hours) {","    document.getElementById('iw-hours-thr').textContent = place.opening_hours.weekday_text[3];","  } else {","    document.getElementById('iw-hours-thr').textContent = '';","  }","    ","  ","  if (place.opening_hours) {","    document.getElementById('iw-hours-fr').textContent = place.opening_hours.weekday_text[4];","  } else {","    document.getElementById('iw-hours-fr').textContent = '';","  }","  ","  if (place.opening_hours) {","    document.getElementById('iw-hours-sat').textContent = place.opening_hours.weekday_text[5];","  } else {","    document.getElementById('iw-hours-sat').textContent = '';","  }","  ","  if (place.opening_hours) {","    document.getElementById('iw-hours-sun').textContent = place.opening_hours.weekday_text[6];","  } else {","    document.getElementById('iw-hours-sun').textContent = '';","  }","","","  // Assign a five-star rating , using a black star ('&#10029;')","  // to indicate the rating the location has earned, and a white star ('&#10025;')","  // for the rating points not achieved.","  if (place.rating) {","    var ratingHtml = '';","    for (var i = 0; i < 5; i++) {","      if (place.rating < (i + 0.5)) {","        ratingHtml += '&#10025;';","      }","      else {","        ratingHtml += '&#10029;';","      }","      document.getElementById('iw-rating-row').style.display = '';","      document.getElementById('iw-rating').innerHTML = ratingHtml;","    }","  }","  else {","    document.getElementById('iw-rating-row').style.display = 'none';","  }","","  // The regexp isolates the first part of the URL (domain plus subdomain)","  // to give a short URL for displaying in the info window.","  if (place.website) {","    var fullUrl = place.website;","    var website = hostnameRegexp.exec(place.website);","    if (website === null) {","      website = 'http://' + place.website + '/';","      fullUrl = website;","    }","    document.getElementById('iw-website-row').style.display = '';","    document.getElementById('iw-website').textContent = website;","  }","  else {","    document.getElementById('iw-website-row').style.display = 'none';","  }","}"],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":49,"column":3},"action":"insert","lines":["// Initialize Map API","","var map, infoWindow;","","function initMap() {","  var map = new google.maps.Map(document.getElementById(\"map\"), {","    zoom: 2.5,","    center: { lat: 40.518385783899, lng: -40.518385783899 },","  });","","  // For Geolocation -- Try HTML5 geolocation.","  infoWindow = new google.maps.InfoWindow;","  ","  if (navigator.geolocation) {","    navigator.geolocation.getCurrentPosition(function(position) {","      var pos = {","        lat: position.coords.latitude,","        lng: position.coords.longitude","      };","","      infoWindow.setPosition(pos);","      infoWindow.setContent('You are here');","      infoWindow.open(map);","      map.setCenter(pos);","    }, function() {","      handleLocationError(true, infoWindow, map.getCenter());","    });","  }","  else {","    // Browser doesn't support Geolocation","    handleLocationError(false, infoWindow, map.getCenter());","  }","}","// Set user geolocation/send error message.      ","function handleLocationError(browserHasGeolocation, infoWindow, pos) {","  infoWindow.setPosition(pos);","  infoWindow.setContent(browserHasGeolocation ?","    'Error: The Geolocation service failed.' :","    'Error: Your browser doesn\\'t support geolocation.');","  infoWindow.open(map);","}","","var input = document.getElementById('pac-input');","var searchBox = new google.maps.places.SearchBox(input);","map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);","","// Bias the SearchBox results towards current map's viewport.","map.addListener('bounds_changed', function() {","  searchBox.setBounds(map.getBounds());","});"],"id":3}],[{"start":{"row":42,"column":0},"end":{"row":49,"column":3},"action":"remove","lines":["var input = document.getElementById('pac-input');","var searchBox = new google.maps.places.SearchBox(input);","map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);","","// Bias the SearchBox results towards current map's viewport.","map.addListener('bounds_changed', function() {","  searchBox.setBounds(map.getBounds());","});"],"id":4}],[{"start":{"row":41,"column":0},"end":{"row":42,"column":0},"action":"remove","lines":["",""],"id":5}],[{"start":{"row":41,"column":0},"end":{"row":42,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":42,"column":0},"end":{"row":42,"column":1},"action":"insert","lines":["#"],"id":7}],[{"start":{"row":42,"column":0},"end":{"row":42,"column":1},"action":"remove","lines":["#"],"id":8}],[{"start":{"row":42,"column":0},"end":{"row":43,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":43,"column":0},"end":{"row":44,"column":0},"action":"insert","lines":["",""]},{"start":{"row":44,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["",""]},{"start":{"row":45,"column":0},"end":{"row":46,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":46,"column":0},"end":{"row":98,"column":1},"action":"insert","lines":["// Cities","  autocomplete = new google.maps.places.Autocomplete(","    /** @type {!HTMLInputElement} */","    (","      document.getElementById('autocomplete')), {","      types: ['(cities)'],","    });","  places = new google.maps.places.PlacesService(map);","","  autocomplete.addListener('place_changed', onPlaceChanged);","","}","","// Zoom in for City selected","function onPlaceChanged() {","  var place = autocomplete.getPlace();","  if (place.geometry) {","    map.panTo(place.geometry.location);","    map.setZoom(15);","    search();","  }","}","","// Search for locations in selected city","function search() {","  var locations = document.getElementById(\"locations\").value;","","  var search = {","    bounds: map.getBounds(),","    types: [locations]","  };","","  places.nearbySearch(search, function(results, status) {","    if (status === google.maps.places.PlacesServiceStatus.OK) {","      clearResults();","      clearMarkers();","","      for (var i = 0; i < results.length; i++) {","","        // Use marker animation to drop the icons incrementally on the map.","        markers[i] = new google.maps.Marker({","          position: results[i].geometry.location,","          animation: google.maps.Animation.DROP,","        });","        // Info window","        markers[i].placeResult = results[i];","        google.maps.event.addListener(markers[i], 'click', showInfoWindow);","        setTimeout(dropMarker(i), i * 10);","        addResult(results[i], i);","      }","    }","  });","}"],"id":10}],[{"start":{"row":48,"column":0},"end":{"row":48,"column":36},"action":"remove","lines":["    /** @type {!HTMLInputElement} */"],"id":11},{"start":{"row":47,"column":53},"end":{"row":48,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":50,"column":26},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":51,"column":0},"end":{"row":51,"column":6},"action":"insert","lines":["      "]},{"start":{"row":51,"column":6},"end":{"row":52,"column":0},"action":"insert","lines":["",""]},{"start":{"row":52,"column":0},"end":{"row":52,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":52,"column":6},"end":{"row":53,"column":58},"action":"insert","lines":["autocomplete.setFields(","      ['address_components', 'geometry', 'icon', 'name']);"],"id":13}],[{"start":{"row":46,"column":8},"end":{"row":46,"column":9},"action":"remove","lines":["s"],"id":14},{"start":{"row":46,"column":7},"end":{"row":46,"column":8},"action":"remove","lines":["e"]},{"start":{"row":46,"column":6},"end":{"row":46,"column":7},"action":"remove","lines":["i"]},{"start":{"row":46,"column":5},"end":{"row":46,"column":6},"action":"remove","lines":["t"]},{"start":{"row":46,"column":4},"end":{"row":46,"column":5},"action":"remove","lines":["i"]},{"start":{"row":46,"column":3},"end":{"row":46,"column":4},"action":"remove","lines":["C"]},{"start":{"row":46,"column":2},"end":{"row":46,"column":3},"action":"remove","lines":[" "]},{"start":{"row":46,"column":1},"end":{"row":46,"column":2},"action":"remove","lines":["/"]},{"start":{"row":46,"column":0},"end":{"row":46,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":46,"column":0},"end":{"row":47,"column":0},"action":"insert","lines":["",""],"id":15}],[{"start":{"row":45,"column":0},"end":{"row":45,"column":62},"action":"insert","lines":["var autocomplete = new google.maps.places.Autocomplete(input);"],"id":16}],[{"start":{"row":46,"column":0},"end":{"row":51,"column":26},"action":"remove","lines":["","","  autocomplete = new google.maps.places.Autocomplete(","    (","      document.getElementById('autocomplete')), {","      types: ['(cities)'],"],"id":17}],[{"start":{"row":46,"column":0},"end":{"row":46,"column":35},"action":"insert","lines":["autocomplete.bindTo('bounds', map);"],"id":18}],[{"start":{"row":45,"column":62},"end":{"row":46,"column":0},"action":"remove","lines":["",""],"id":19}],[{"start":{"row":45,"column":62},"end":{"row":46,"column":0},"action":"insert","lines":["",""],"id":20}],[{"start":{"row":48,"column":4},"end":{"row":48,"column":6},"action":"remove","lines":["  "],"id":21},{"start":{"row":48,"column":2},"end":{"row":48,"column":4},"action":"remove","lines":["  "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":2},"action":"remove","lines":["  "]},{"start":{"row":47,"column":6},"end":{"row":48,"column":0},"action":"remove","lines":["",""]},{"start":{"row":47,"column":4},"end":{"row":47,"column":6},"action":"remove","lines":["  "]},{"start":{"row":47,"column":2},"end":{"row":47,"column":4},"action":"remove","lines":["  "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":46,"column":35},"end":{"row":47,"column":0},"action":"remove","lines":["",""],"id":22}],[{"start":{"row":46,"column":35},"end":{"row":47,"column":0},"action":"insert","lines":["",""],"id":23}],[{"start":{"row":46,"column":0},"end":{"row":47,"column":0},"action":"insert","lines":["",""],"id":24}],[{"start":{"row":48,"column":0},"end":{"row":49,"column":0},"action":"insert","lines":["",""],"id":25}],[{"start":{"row":50,"column":4},"end":{"row":50,"column":6},"action":"remove","lines":["  "],"id":26},{"start":{"row":50,"column":2},"end":{"row":50,"column":4},"action":"remove","lines":["  "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"remove","lines":["  "]},{"start":{"row":49,"column":23},"end":{"row":50,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":49,"column":23},"end":{"row":50,"column":0},"action":"insert","lines":["",""],"id":27},{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":51,"column":2},"end":{"row":51,"column":4},"action":"remove","lines":["  "],"id":28},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"remove","lines":["  "]},{"start":{"row":50,"column":54},"end":{"row":51,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":50,"column":54},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":29},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"insert","lines":["?"],"id":30},{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"remove","lines":["/"],"id":31},{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"remove","lines":["?"]}],[{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"insert","lines":["/"],"id":32},{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"insert","lines":["/"]},{"start":{"row":43,"column":2},"end":{"row":43,"column":3},"action":"insert","lines":["A"]},{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"insert","lines":["i"]},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"insert","lines":["t"]},{"start":{"row":43,"column":5},"end":{"row":43,"column":6},"action":"insert","lines":["p"]}],[{"start":{"row":43,"column":5},"end":{"row":43,"column":6},"action":"remove","lines":["p"],"id":33},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"remove","lines":["t"]},{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"remove","lines":["i"]}],[{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"insert","lines":["i"],"id":34},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"insert","lines":["t"]},{"start":{"row":43,"column":5},"end":{"row":43,"column":6},"action":"insert","lines":["p"]}],[{"start":{"row":43,"column":5},"end":{"row":43,"column":6},"action":"remove","lines":["p"],"id":35},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"remove","lines":["t"]},{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"remove","lines":["i"]}],[{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"insert","lines":["i"],"id":36},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"insert","lines":["t"]},{"start":{"row":43,"column":5},"end":{"row":43,"column":6},"action":"insert","lines":["p"]},{"start":{"row":43,"column":6},"end":{"row":43,"column":7},"action":"insert","lines":["c"]}],[{"start":{"row":43,"column":6},"end":{"row":43,"column":7},"action":"remove","lines":["c"],"id":37},{"start":{"row":43,"column":5},"end":{"row":43,"column":6},"action":"remove","lines":["p"]},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"remove","lines":["t"]},{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"remove","lines":["i"]}],[{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"insert","lines":["i"],"id":38},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"insert","lines":["t"]},{"start":{"row":43,"column":5},"end":{"row":43,"column":6},"action":"insert","lines":["p"]}],[{"start":{"row":43,"column":5},"end":{"row":43,"column":6},"action":"remove","lines":["p"],"id":39},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"remove","lines":["t"]},{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"remove","lines":["i"]}],[{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"insert","lines":["u"],"id":40},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"insert","lines":["t"]},{"start":{"row":43,"column":5},"end":{"row":43,"column":6},"action":"insert","lines":["o"]},{"start":{"row":43,"column":6},"end":{"row":43,"column":7},"action":"insert","lines":["c"]},{"start":{"row":43,"column":7},"end":{"row":43,"column":8},"action":"insert","lines":["o"]},{"start":{"row":43,"column":8},"end":{"row":43,"column":9},"action":"insert","lines":["m"]},{"start":{"row":43,"column":9},"end":{"row":43,"column":10},"action":"insert","lines":["p"]},{"start":{"row":43,"column":10},"end":{"row":43,"column":11},"action":"insert","lines":["l"]},{"start":{"row":43,"column":11},"end":{"row":43,"column":12},"action":"insert","lines":["e"]},{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"insert","lines":["t"]},{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":["e"]}],[{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"insert","lines":["."],"id":41}],[{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"remove","lines":["."],"id":42}],[{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"insert","lines":[":"],"id":43}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":49},"action":"insert","lines":["var input = document.getElementById('pac-input');"],"id":44}],[{"start":{"row":9,"column":49},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":45}],[{"start":{"row":9,"column":4},"end":{"row":9,"column":9},"action":"remove","lines":["input"],"id":46},{"start":{"row":9,"column":4},"end":{"row":9,"column":16},"action":"insert","lines":["autocomplete"]}],[{"start":{"row":9,"column":44},"end":{"row":9,"column":53},"action":"remove","lines":["pac-input"],"id":47},{"start":{"row":9,"column":44},"end":{"row":9,"column":45},"action":"remove","lines":["'"]}],[{"start":{"row":9,"column":43},"end":{"row":9,"column":44},"action":"remove","lines":["'"],"id":48}],[{"start":{"row":9,"column":43},"end":{"row":9,"column":45},"action":"insert","lines":["\"\""],"id":49}],[{"start":{"row":9,"column":44},"end":{"row":9,"column":56},"action":"insert","lines":["autocomplete"],"id":50}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":59},"action":"remove","lines":["var autocomplete = document.getElementById(\"autocomplete\");"],"id":51}],[{"start":{"row":8,"column":5},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":52}],[{"start":{"row":46,"column":0},"end":{"row":46,"column":59},"action":"insert","lines":["var autocomplete = document.getElementById(\"autocomplete\");"],"id":53}],[{"start":{"row":46,"column":59},"end":{"row":47,"column":0},"action":"insert","lines":["",""],"id":54}],[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"remove","lines":[" "],"id":58},{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"remove","lines":["r"]},{"start":{"row":5,"column":3},"end":{"row":5,"column":4},"action":"remove","lines":["a"]},{"start":{"row":5,"column":2},"end":{"row":5,"column":3},"action":"remove","lines":["v"]}],[{"start":{"row":5,"column":2},"end":{"row":5,"column":3},"action":"insert","lines":["v"],"id":59},{"start":{"row":5,"column":3},"end":{"row":5,"column":4},"action":"insert","lines":["a"]},{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"insert","lines":["r"]}],[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"insert","lines":[" "],"id":60}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["// Initialize Map API",""],"id":63},{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":8,"column":5},"end":{"row":8,"column":24},"action":"remove","lines":["For Geolocation -- "],"id":64}],[{"start":{"row":8,"column":8},"end":{"row":8,"column":9},"action":"insert","lines":[" "],"id":65},{"start":{"row":8,"column":9},"end":{"row":8,"column":10},"action":"insert","lines":["f"]},{"start":{"row":8,"column":10},"end":{"row":8,"column":11},"action":"insert","lines":["o"]},{"start":{"row":8,"column":11},"end":{"row":8,"column":12},"action":"insert","lines":["r"]}],[{"start":{"row":39,"column":0},"end":{"row":40,"column":0},"action":"remove","lines":["",""],"id":66}],[{"start":{"row":40,"column":0},"end":{"row":95,"column":1},"action":"remove","lines":["//Autocomplete:","","var autocomplete = new google.maps.places.Autocomplete(input);","var autocomplete = document.getElementById(\"autocomplete\");","","autocomplete.bindTo('bounds', map);","","autocomplete.setFields(","  ['address_components', 'geometry', 'icon', 'name']);","  });","  places = new google.maps.places.PlacesService(map);","","  autocomplete.addListener('place_changed', onPlaceChanged);","","}","","// Zoom in for City selected","function onPlaceChanged() {","  var place = autocomplete.getPlace();","  if (place.geometry) {","    map.panTo(place.geometry.location);","    map.setZoom(15);","    search();","  }","}","","// Search for locations in selected city","function search() {","  var locations = document.getElementById(\"locations\").value;","","  var search = {","    bounds: map.getBounds(),","    types: [locations]","  };","","  places.nearbySearch(search, function(results, status) {","    if (status === google.maps.places.PlacesServiceStatus.OK) {","      clearResults();","      clearMarkers();","","      for (var i = 0; i < results.length; i++) {","","        // Use marker animation to drop the icons incrementally on the map.","        markers[i] = new google.maps.Marker({","          position: results[i].geometry.location,","          animation: google.maps.Animation.DROP,","        });","        // Info window","        markers[i].placeResult = results[i];","        google.maps.event.addListener(markers[i], 'click', showInfoWindow);","        setTimeout(dropMarker(i), i * 10);","        addResult(results[i], i);","      }","    }","  });","}"],"id":67},{"start":{"row":39,"column":0},"end":{"row":40,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":8,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["  // Try for HTML5 geolocation.","  infoWindow = new google.maps.InfoWindow;","  ","  if (navigator.geolocation) {","    navigator.geolocation.getCurrentPosition(function(position) {","      var pos = {","        lat: position.coords.latitude,","        lng: position.coords.longitude","      };","","      infoWindow.setPosition(pos);","      infoWindow.setContent('You are here');","      infoWindow.open(map);","      map.setCenter(pos);","    }, function() {","      handleLocationError(true, infoWindow, map.getCenter());","    });","  }","  else {","    // Browser doesn't support Geolocation","    handleLocationError(false, infoWindow, map.getCenter());","  }","}","// Set user geolocation/send error message.      ","function handleLocationError(browserHasGeolocation, infoWindow, pos) {","  infoWindow.setPosition(pos);","  infoWindow.setContent(browserHasGeolocation ?","    'Error: The Geolocation service failed.' :","    'Error: Your browser doesn\\'t support geolocation.');","  infoWindow.open(map);","}",""],"id":68}],[{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"remove","lines":["",""],"id":69},{"start":{"row":6,"column":5},"end":{"row":7,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":6,"column":5},"end":{"row":7,"column":0},"action":"insert","lines":["",""],"id":70},{"start":{"row":7,"column":0},"end":{"row":7,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":2},"action":"remove","lines":["  "],"id":71}],[{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":72},{"start":{"row":8,"column":0},"end":{"row":9,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":9,"column":0},"end":{"row":40,"column":0},"action":"insert","lines":["  // Try for HTML5 geolocation.","  infoWindow = new google.maps.InfoWindow;","  ","  if (navigator.geolocation) {","    navigator.geolocation.getCurrentPosition(function(position) {","      var pos = {","        lat: position.coords.latitude,","        lng: position.coords.longitude","      };","","      infoWindow.setPosition(pos);","      infoWindow.setContent('You are here');","      infoWindow.open(map);","      map.setCenter(pos);","    }, function() {","      handleLocationError(true, infoWindow, map.getCenter());","    });","  }","  else {","    // Browser doesn't support Geolocation","    handleLocationError(false, infoWindow, map.getCenter());","  }","}","// Set user geolocation/send error message.      ","function handleLocationError(browserHasGeolocation, infoWindow, pos) {","  infoWindow.setPosition(pos);","  infoWindow.setContent(browserHasGeolocation ?","    'Error: The Geolocation service failed.' :","    'Error: Your browser doesn\\'t support geolocation.');","  infoWindow.open(map);","}",""],"id":73}],[{"start":{"row":8,"column":0},"end":{"row":40,"column":0},"action":"remove","lines":["","  // Try for HTML5 geolocation.","  infoWindow = new google.maps.InfoWindow;","  ","  if (navigator.geolocation) {","    navigator.geolocation.getCurrentPosition(function(position) {","      var pos = {","        lat: position.coords.latitude,","        lng: position.coords.longitude","      };","","      infoWindow.setPosition(pos);","      infoWindow.setContent('You are here');","      infoWindow.open(map);","      map.setCenter(pos);","    }, function() {","      handleLocationError(true, infoWindow, map.getCenter());","    });","  }","  else {","    // Browser doesn't support Geolocation","    handleLocationError(false, infoWindow, map.getCenter());","  }","}","// Set user geolocation/send error message.      ","function handleLocationError(browserHasGeolocation, infoWindow, pos) {","  infoWindow.setPosition(pos);","  infoWindow.setContent(browserHasGeolocation ?","    'Error: The Geolocation service failed.' :","    'Error: Your browser doesn\\'t support geolocation.');","  infoWindow.open(map);","}",""],"id":74}],[{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"remove","lines":["",""],"id":75}],[{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":77},{"start":{"row":8,"column":0},"end":{"row":9,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":9,"column":0},"end":{"row":15,"column":7},"action":"insert","lines":["var map;","      function initMap() {","        map = new google.maps.Map(document.getElementById('map'), {","          center: {lat: -34.397, lng: 150.644},","          zoom: 8","        });","      }"],"id":78}],[{"start":{"row":12,"column":24},"end":{"row":12,"column":45},"action":"remove","lines":["-34.397, lng: 150.644"],"id":79},{"start":{"row":12,"column":24},"end":{"row":12,"column":62},"action":"insert","lines":["40.518385783899, lng: -40.518385783899"]}],[{"start":{"row":11,"column":58},"end":{"row":11,"column":59},"action":"remove","lines":["'"],"id":80}],[{"start":{"row":11,"column":58},"end":{"row":11,"column":59},"action":"insert","lines":["\""],"id":81}],[{"start":{"row":11,"column":62},"end":{"row":11,"column":63},"action":"remove","lines":["'"],"id":82}],[{"start":{"row":11,"column":62},"end":{"row":11,"column":63},"action":"insert","lines":["\""],"id":83}],[{"start":{"row":13,"column":16},"end":{"row":13,"column":17},"action":"remove","lines":["8"],"id":84}],[{"start":{"row":13,"column":16},"end":{"row":13,"column":17},"action":"insert","lines":["3"],"id":85}],[{"start":{"row":13,"column":16},"end":{"row":13,"column":17},"action":"remove","lines":["3"],"id":86}],[{"start":{"row":13,"column":16},"end":{"row":13,"column":17},"action":"insert","lines":["2"],"id":87},{"start":{"row":13,"column":17},"end":{"row":13,"column":18},"action":"insert","lines":["."]},{"start":{"row":13,"column":18},"end":{"row":13,"column":19},"action":"insert","lines":["5"]}],[{"start":{"row":0,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["var map, infoWindow;","","function initMap() {","  var map = new google.maps.Map(document.getElementById(\"map\"), {","    zoom: 2.5,","    center: { lat: 40.518385783899, lng: -40.518385783899 },","  });",""],"id":88}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":89}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":90}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":7},"end":{"row":6,"column":7},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1565203368527,"hash":"b9fe6d252536fc090c345c6f85993751b12e3233"}